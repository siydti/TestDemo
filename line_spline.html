<!DOCTYPE html>
<html>

<head>
    <script src="https://unpkg.com/konva@8.3.5/konva.min.js"></script>
    <meta charset="utf-8" />
    <title>Konva RegularPolygon Demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
        }
    </style>
</head>

<body>
    <div id="container"></div>
    <script>
        var stage = new Konva.Stage({
            container: 'container',
            width: window.innerWidth,
            height: window.innerHeight,
        });

        var layer = new Konva.Layer();

        //多边形
        var hexagon = new Konva.RegularPolygon({
            x: 90,
            y: 90,
            sides: 5,
            radius: 90,
            // fill: 'green',
            stroke: 'black',
            strokeWidth: 4,
            draggable: true,
            // dash: [10, 10],
            // shadowColor: 'red',
            // shadowBlur: 5,
            // shadowOffset: {
            //     x: 1,
            //     y: 1
            // },
            cornerRadius: [10]

        });
        hexagon.rotate(130)

        layer.add(hexagon);

        //星星
        var star = new Konva.Star({
            x: 200,
            y: 200,
            numPoints: 5,
            innerRadius: 40,
            outerRadius: 70,
            fill: 'yellow',
            stroke: 'black',
            strokeWidth: 4,
            draggable: true,
            dash: [13, 20],
            lineCap: 'round',
            lineJoin: 'round',
            cornerRadius: [10]
        });
        star.rotate(130)
        // add the shape to the layer
        layer.add(star);

        //圆环
        var ring = new Konva.Ring({
            x: 300,
            y: 300,
            innerRadius: 10,
            outerRadius: 70,
            fill: 'yellow',
            stroke: 'black',
            strokeWidth: 4,
            draggable: true
        });

        // add the shape to the layer
        layer.add(ring);

        [hexagon, star, ring].forEach(item => {
            layer.add(new Konva.Transformer({
                nodes: [item],
            }))
        })

        //线  3.824c5.337,7.449,3.625,17.8.3.5.8.3.53.152l2.857,3.988c9.617-6.8.3.51.827-20.277,4.935-29.896C35.591,4.87,22.204,2.658,12.582,9.551z
        var path = new Konva.Path({
            x: 200,
            y: 40,
            data:
                'M12.582,9.551C3.251,16.237,0.921,29.021,7.08,38.564l-2.36,1.689l4.8.3.5.262l4.8.3.5.262l-0.568-5.36l-0.567-5.359l-2.365,1.694c-4.657-7.375-2.83-18.3.5,4.352-22.33c7.5.0.3.338,17.817-3.625,23.156,',
            // fill: 'green',
            stroke: 'green',
            draggable: true,
        });

        // add the shape to the layer
        layer.add(path);

        layer.add(new Konva.Path({
            x: 260,
            y: 40,
            data: "M0,0 0.000,1.512 1.512,4.536 1.512,12.097 4.536,21.169 7.560,31.754 12.097,49.899 15.121,61.995 18.145,75.604 19.657,84.677 22.681,92.237 24.193,107.358 25.705,108.870 25.705,111.894 ",
            // fill: 'green',
            lineJoin: 'round',
            lineCap: 'round',
            stroke: 'skyblue',
            strokeWidth: 3,
            draggable: true,
            // dash: [13, 10],
        }))

        const path1 = new Konva.Path({
            x: 360,
            y: 40,
            data: 'M0,0, 0,350 15,350 15,0 M15,25 0,25', //
            fill: 'red',
            // lineJoin: 'round',
            lineCap: 'butt',
            stroke: '#690',
            strokeWidth: 10,
            draggable: true,
            // dash: [5, 15],
        })
        // path1.on('draggabled', () => {
        //     cons
        // })

        layer.add(path1)

        layer.add(new Konva.Path({
            x: 365,
            y: 40,
            data: 'M0,147 H584 ', //
            fill: 'red',
            // lineJoin: 'round',
            lineCap: 'round',
            stroke: 'skyblue',
            strokeWidth: 10,
            draggable: true,
            // dash: [5, 15],
        }))


        //箭头
        var arrow = new Konva.Arrow({
            x: 400,
            y: 300,
            points: [0, 0, 100, 350,], //100, 200
            pointerLength: 30,
            pointerWidth: 35,
            // pointerAtBeginning: true,
            fill: 'red',
            // fillPriority: 'pattern',
            stroke: 'black',
            strokeWidth: 8,
            dash: [13, 10],
            // lineCap: 'round',
            // lineJoin: 'round',
        });
        const img = new Image()
        img.onload = () => {
            // arrow.fillPatternImage(img)
        }
        img.src = 'http://app.ixuechuang.com/resource/images/poster/backimage.jpg'

        // add the shape to the layer
        layer.add(arrow);


        // line线
        var greenLine = new Konva.Line({
            x: 10,
            y: 430,
            points: [0, 0, 140, 23, 250, 60, 300, 20],
            stroke: 'green',
            strokeWidth: 2,
            lineJoin: 'round',
            /*
             * line segments with a length of 33px
             * with a gap of 10px
             */
            dash: [33, 10],
            lineCap: 'round',
            tension: 0.5,
        });
        layer.add(greenLine);



        // add the layer to the stage
        stage.add(layer);
    </script>
</body>

</html>